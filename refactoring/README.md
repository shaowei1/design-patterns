#### example
一个方法写的时候发现分支判断太多，工厂模式就要登场了。

如果大部分代码都比较重复，这个时候就需要往底层的抽象，甚至用上策略模式。

需要做一个非功能性需求，每一个接口调用都要记录的东西，我们为了避免业务侵入性，就要考虑代理模式重构之前的业务侵入性强的代码，将功能与非功能分离。

### 单元测试
#### 什么是单元测试
写单元测试就是针对代码设计覆盖各种输入、异常、边界条件的测试用例，并将这些测试用例翻译成代码的过程。

单元测试由研发工程师自己来编写，用来测试自己写的代码的正确性。我们常常将它跟集成测试放到一块来对比。单元测试相对于集成测试（Integration Testing）来说，测试的粒度更小一些。集成测试的测试对象是整个系统或者某个功能模块，比如测试用户注册、登录功能是否正常，是一种端到端（end to end）的测试。而单元测试的测试对象是类或者函数，用来测试一个类和函数是否都按照预期的逻辑执行。这是代码层级的测试。

#### why 
1. 单元测试能有效地帮你发现代码中的 bug
2. 写单元测试能帮你发现代码设计上的问题
3. 单元测试是对集成测试的有力补充
4. 写单元测试的过程本身就是代码重构的过程
5. 阅读单元测试能帮助你快速熟悉代码
6. 单元测试是 TDD 可落地执行的改进方案（Test-Driven Development，简称 TDD)

#### what
ownership
（单元测试框架：Junit、TestNG、Spring Test）
1. 编写单元测试尽管繁琐，但并不是太耗时；
2. 我们可以稍微放低对单元测试代码质量的要求；
3.覆盖率作为衡量单元测试质量的唯一标准是不合理的；
 （覆盖率统计工具JaCoCo、Cobertura、Emma、Clover）比较简单的是语句覆盖，稍微高级点的有：条件覆盖、判定覆盖、路径覆盖。
4. 单元测试不要依赖被测代码的具体实现逻辑；
不需要关注代码逻辑，否则，一旦对代码进行重构，在代码的外部行为不变的情况下，对代码的实现逻辑进行了修改，那原本的单元测试都会运行失败，也就起不到为重构保驾护航的作用了
5. 单元测试框架无法测试，多半是因为代码的可测试性不好。

#### 
1. 涉及数据库
    DBUNIT测试框架解耦和真正的数据库
    维护专供单元测试的数据库
    
2. 集成到代码管理仓库git中，强制跑单元测试成功之后才能提交

